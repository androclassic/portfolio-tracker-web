version: '3.9'
services:
  web:
    build:
      context: .
      dockerfile: Dockerfile
    image: portfolio-tracker-web:latest
    container_name: portfolio-tracker-web
    restart: unless-stopped
    ports:
      - "3033:3033"
    environment:
      - NODE_ENV=production
      - DATABASE_URL=file:/data/dev.db
    volumes:
      - app_data:/data
    # If you want to override envs, mount an .env file:
    # env_file:
    #   - ./.env

volumes:
  app_data:
    driver: local


